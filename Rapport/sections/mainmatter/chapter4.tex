\chapter{Sample theory} \label{ch4}
In this chapter the sample theory and its importance when converting an analogue audio signal to a digital audio signal along with its complications is treated.
\section{Sampling}
Sampling is the process of representing a \textit{continuous-time} signal by a sequence of values. Doing so converts the continuous-time signal into a \textit{discrete-time signal}. \cite{pelgrom} Sampling a ball following the arc shown in figure \ref{fig:ball_cont} results in the plottet points in figure \ref{fig:ball_disc}. As such the balls path is illustrated with discrete points along the path. The distance between the points in time depends on the \textit{sampling frequency} $f_s$. Increasing $f_s$ increases the number of samples in some time interval while decreasing $f_s$ decreases the number of samples. It is later explained which consequences increasing or decreasing $f_s$ have.
\begin{figure}[H]
\centering
\begin{minipage}{0.49\textwidth}
\centering
\begin{tikzpicture}[scale=1.4]
\draw[->] (-0.25,0) -- (4.25,0) node[right] {$x$};
\draw[->] (0,-0.25) -- (0,2) node[above] {$y$};
\draw[scale=1,domain=0:4,smooth,variable=\x,red] plot ({\x},{-0.25*\x*\x+\x});
\end{tikzpicture}
\caption{Trajectory of a ball shown in continuous time.}
\label{fig:ball_cont}
\end{minipage}
\centering
\begin{minipage}{0.49\textwidth}
\centering
\begin{tikzpicture}[scale=1.4]
\draw[->] (-0.25,0) -- (4.25,0) node[right] {$x$};
\draw[->] (0,-0.25) -- (0,2) node[above] {$y$};
\draw(0,0) node {\textbullet};
\draw(0.5,0.4375) node {\textbullet};
\draw(1,0.75) node {\textbullet};
\draw(1.5,0.9375) node {\textbullet};
\draw(2,1) node {\textbullet};
\draw(2.5,0.9375) node {\textbullet};
\draw(3,0.75) node {\textbullet};
\draw(3.5,0.4375) node {\textbullet};
\draw(4,0) node {\textbullet};
\end{tikzpicture}
\caption{Trajectory of a ball shown in discrete time as samples of the original trajectory.}
\label{fig:ball_disc}
\end{minipage}
\end{figure}
The sampling frequency $f_s$ is number of samples pr. second (Hz) and the times at points of sampling are calculated as
\begin{equation}
t=\frac{n}{f_s}=nT_s, \phantom{mm} n=-\infty,\hdots-1,0,1\hdots,\infty \phantom{mm}\text{\cite{pelgrom}}
\end{equation}
where $t$ is the time period in which sampling is done, $n$ is the number of samples and $T_s$ is the time period between two consecutive samples.\\\\
To describe sampling mathematically the \textit{Dirac delta} function is introduced in definition \ref{def:dirac}.
\begin{definition}[Dirac delta function]\label{def:dirac}
The Dirac delta function is the function $\delta$ satisfying
\begin{equation}
\int_{-\infty}^{\infty} \! f(t)\delta(t-t_0) \, dt=f(t_0).
\end{equation}
\end{definition}
\section{Analogue-to-digital conversion}\label{ADC}
An analogue-to-digital converter (ADC) is a device which as the name suggests is capable of converting an analogue signal to a digital signal. The analogue signal is in the case of this project voltage from a microphone reacting to sound waves. An audio ADC consists of the following elements
\begin{enumerate}
\item A \textit{track-} or \textit{sample-and-hold} circuit capable of sampling a voltage and \textit{holding} the value during the whole or some part of the sample period.
\end{enumerate}
\begin{figure}[H]
\centering
\begin{tikzpicture}[node distance=3.5cm,auto,>=latex']
\draw
% Drawing the blocks of first filter :
	node at (0,0)[right=-13mm]{\huge\twonotes} % kan skiftet ud med sinus lÃ¦ngere nede
	node [input, name=input1] {} 
	node at (input1) [above=5mm] {Mic}		
	node [block, right of=input1] (sh) {$Sampel and hold$}
	node [block, right of=sh] (quant) {$Quantification$}
	node [block, right of=quant] (save) {$Storage$}
	node [sum, right of=save] (cirk1) {}
	node at (cirk1) [above=5mm] {App}
    node [output, name=output1, right of=cirk1]{}
    
    
;
% Joining blocks. 
% Commands \draw with options like [->] must be written individually

\draw[->](input1) -- node {}(sh);
\draw[->](sh) -- node {}(quant);
\draw[->](quant) -- node {}(save);
\draw[->](save) -- node {}(cirk1);
\filldraw[color=black,fill=white,thick](input1) circle (0.3);
\draw(-0.3,0.5) -- (-0.3,-0.5);
%\draw (-1.5,0) sin (-1.40,0.5) cos (-1.30,0) sin (-1.20,-0.5) cos (-1.10,0) sin (-1,0.5) cos (-0.9,0) sin (-0.8,-0.5) cos (-0.7,0);

% Boxing and labelling noise shapers
\draw [color=gray,thick,dashed](1.5,-1.5) rectangle (9,1.5);
\node at (1.5,1.7) [above=5mm, right=0mm] {\textsc{ADC}};
\end{tikzpicture}
\caption{Basic block-diagram illustrating an ADC where the digital output will be the input to the application} 
\label{fig:input}
\end{figure}
%\input{sections/mainmatter/chapter_4/_____.tex}


\clearpage
\section{Noise}
About noise from chapter 2: \textregistered

Playing a pitch alone in an anechoic room is a way of minimizing noise factors. There are many different noise sources from e.g. the surrounding environment, electrical equipment, other people and even the instrument playing itself since it is difficult to make a pure tone by an acoustic sound source such as a guitar. A pure tone is a sinusoidal waveform consisting of a single frequency and may therefore be difficult to play on an instrument. \cite{AcousticNoise} Usually, sound is reflected off the walls in a room which is also a source of noise. This is a form of folding and is minimized in the anechoic room because sound is absorbed by the walls. Moreover, due to the construction of the anechoic room, noise from e.g. bypassing cars is also minimized, and the sound may be recorded with a minimum of hardware which otherwise may also produce noise.
\\ \\
The music used in this project will therefore be recorded in an anechoic room because the noise is minimized. It is not expected that musicians using the system in the future have access to an anechoic room as well but if the system doesn't work with sounds recorded in the anechoic room then it with most certainty doesn't work at other places neither. However, in order to reproduce the conditions of a typical musician working around other people, background noise can also be made in the anechoic room but should of course not drown the music. This form of noise is additive whereas e.g. noise reflected off walls as mentioned above is multiplicative. In general, multiplicative noise depends on the state of the system whereas additive noise does not. Therefore, the output $x[n]$ of the sampled data $s[n]$ corrupted by the additive noise $a[n]$ is $x[n] = s[n] + a[n]$ whereas the equation for the multiplicative noise $m[n]$ is $x[n] = s[n]m[n]$.