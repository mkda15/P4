\section{Fourier series}
Periodic functions can be represented as a linear combination of oscillating functions such as sines, cosines or equivalently complex exponential.
\\ \\
It can be an advantage to decompose functions as a series or integral of ``simpler'' functions to retrieve information:
\begin{align*}
f(x) = \sum_{n=1}^\infty c_n f_n(x)\text{, or } f(x)= \int_{-\infty}^\infty g(u) h(u,x) du.
\end{align*}

Information from a function $f(x)$ will as an example be stored in the coefficient $\{c_n\}_{n=1}^\infty$ which are easily stored on a computer.
\\ \\ 
A function $f: \mathbb{R} \to \mathbb{R}$ (or $\mathbb{C}$) is called $2\pi$-periodic if $f(\theta + 2\pi) = f(\theta) \ \forall \ \theta\in\mathbb{R}$. The idea of the Fourier series is using the above information to recreate a $2\pi$-periodic signal. The Fourier series is defined as:
\begin{align*}
f(t) &= \dfrac{a_0}{2} + \sum_{n=1}^\infty(a_n \cos(n t) + b_n \sin(n t))\\
&= \sum_{n=-\infty}^{\infty} c_n \text{e}^{j n t}.
\end{align*}

The second part holds per Euler's formula:
\begin{align*}
\cos(n\theta) &= \dfrac{\text{e}^{j n \theta} + \text{e}^{-j n \theta}}{2}, \\
\sin(n \theta) &= \dfrac{\text{e}^{jn\theta}-\text{e}^{-jn\theta}}{2j}.
\end{align*}

It can be simpler to work with the complex exponential function, but working with the trigonometric functions cosine and sine have their advantages such as being real-valued and also odd and even for the sine and cosine functions, respectively.

\subsection{The coefficient $c_n$}
The $c_n$ coefficient is determined by the assumption that it is possible to integrate the fourier series by parts.
\\ \\
To determine $c_n$ in the equation $f(t)= \sum_{n=-\infty}^{\infty} c_n \text{e}^{j n t}$ first multiply both sides by $\text{e}^{-j k t}$ for $k\in \mathbb{Z}$ and integrate both sides from $-\pi$ to $\pi$:
\begin{align} \label{eq:firststep_fouriercoefficient}
\int_{-\pi}^\pi f(t)\text{e}^{-j k t} dt = \int_{-\pi}^\pi \sum_{n=-\infty}^{\infty} c_n \text{e}^{j n t} \text{e}^{-j k t} dt.
\end{align}

Pulling the summation and the constant on the right-hand side out of the integral in \eqref{eq:firststep_fouriercoefficient} yields the following:
\begin{align*}
\int_{-\pi}^\pi f(t) \text{e}^{-j k t}dt = \sum_{n=-\infty}^\infty c_n \int_{-\pi}^\pi \text{e}^{j (n-k) t}dt.
\end{align*}

The integral on the right-hand side has two cases to consider, $n \neq k$ and $n = k$. For $n\neq k$:
\begin{align*}
	\int_{-\pi}^\pi \text{e}^{j(n-k)t}dt 
	=\dfrac{1}{j(n-k)}\text{e}^{j(n-k)t}\mid_{-\pi}^{\pi}
	=\dfrac{(-1)^{n-k}-(-1)^{n-k}}{j(n-k)}
	=0.
\end{align*}

The second case is for $n = k$:
\begin{align*}
\int_{-\pi}^\pi \text{e}^{j(n-k)t}dt = \int_{-\pi}^\pi 1 dt = 2\pi.
\end{align*}

The integral can be concluded to yield either $2\pi$ or $0$:
\begin{align}
	\int_{-\pi}^{\pi} \text{e}^{j (n-k)t}dt 
	= 
	\begin{cases}
			2\pi \text{ if } n=k\\
			0 \text{ otherwise}
	\end{cases}
\end{align}

Therefore, for $n = k$:
\begin{align*}
\int_{-\pi}^\pi f(t)\text{e}^{-j k t} = 2\pi c_k.
\end{align*}

Changing the index to $n$ gives the coefficient $c_n$'s general equation:
\begin{align*}
	c_n = \dfrac{1}{2\pi} \int_{-\pi}^{\pi} f(t) \text{e}^{-j n t}dt.
\end{align*}

The above is defined in the following definition \cite{page 18-20, FAA}.

\begin{definition} \label{def:fourier_definition}
The Fourier series of a $2\pi$-periodic integrable function $f(t)$ is defined as:
\begin{align*}
	\sum_{n=-\infty}^\infty c_n \text{e}^{j n t},
\end{align*}

where $c_n = \frac{1}{2\pi}\int_{- \pi}^\pi f(t) \text{e}^{-j n t} dt$. Therefore, $c_0 = \frac{a_0}{2} = \frac{1}{2\pi} \int_{-\pi}^\pi f(t) dt$, which is the average of $f$ on the interval $[-\pi,\pi]$.
\\ \\
The Fourier series can alternatively be expressed as:
\begin{align*}
	\dfrac{a_0}{2} + \sum_{n=1}^{\infty} \left[ a_n \cos(n t) + 	b_n \sin(n t)\right],
\end{align*}

where
\begin{align*}
	a_n 
	&= \dfrac{1}{\pi} \int_{-\pi}^\pi f(t) \cos (n t) dt, \quad 	n \geq 0, \\
	b_n
	&= \dfrac{1}{\pi} \int_{-\pi}^\pi f(t) \sin (n t) dt, \quad 	n \geq 1.
\end{align*}
\end{definition}

Since $\cos(nt)$ is even and $\sin(nt)$ is odd, this definition gives the following result \cite{page 21, FAA}.

\begin{lemma}
If $f(t)$ is even, then $f(t)\cos(nt)$ is even and $f(t)\sin(nt)$ is odd, which means that:
\begin{align*}
a_n = \dfrac{2}{\pi} \int_0^\pi f(t) \cos(nt) dt, \quad b_n = 0.
\end{align*}

Likewise, if $f(t)$ is odd, then $f(t)\cos(nt)$ is odd and $f(t)\sin(nt)$ is even, which means that:
\begin{align*}
a_n = 0, \quad b_n = \dfrac{2}{\pi} \int_0^\pi f(t) \sin(nt) dt.
\end{align*}
\end{lemma}

As the following lemma shows, integration of a $2\pi$-periodic function over the length of the period can be shifted to any other interval of length $2\pi$.

\begin{lemma}\label{lemma:2pi-periodic_function}
Suppose $F$ is $2\pi$-periodic and integrable. Then for any real number a:

\begin{align}
\int_a^{2\pi+a}F(t) dt = \int_0^{2\pi}F(t)dt.
\end{align}
\end{lemma}

\begin{proof}
\begin{align*}
	\int_0^{2\pi} F(t)dt 
	&= \int_0^a F(t) dt + \int_a^{2\pi} F(t) dt
	= \int_0^a F(t+2\pi)dt + \int_a^{2\pi} F(t) dt\\ 
	&= \int_{2\pi}^{2\pi + a} F(t) dt + \int_a^{2\pi}F(t)dt
	= \int_a^{2\pi+a}F(t)dt.
\end{align*}
\end{proof}

\subsection{Convergence of the Fourier series}
In this section the convergence of the Fourier series is examined through piecewise continuous and piecewise smooth functions. The section is inspired by \cite{page 31-36, FAA}.

\begin{definition}
Suppose $-\infty < a < b < \infty$. A function $f$ on $[a,b]$ is piecewise continuous if:
\begin{enumerate}
\item $f$ is continuous on $[a,b]$ except perhaps at finitely many points $x_1, \dots, x_k$.
\item The left-hand and right-hand limits of $f$ at each of the points $x_1, \dots, x_k$ exist:
\begin{align*}
f(x_j-) &= \lim_{h\to 0} f(x_j - h) \\
f(x_j+) &= \lim_{h\to 0} f(x_j + h)
\end{align*}

for $h > 0$. Notice that only the right-hand (or left-hand) limit is required to exist if one of the points $x_j$ is the endpoint $a$ (or $b$).
\end{enumerate}

The space of piecewise continuous functions on $[a,b]$ is denoted as $PC(a,b)$.
\end{definition}

From this definition follows the definition of piecewise smooth functions:
\begin{definition}
The space of piecewise smooth functions on $[a,b]$ is denoted as $PS(a,b)$. $f\in PS(a,b)$ iff
\begin{enumerate}
	\item $f \in PC(a,b)$.
	\item $f'$ exists and is also piecewise continuous on $[a,b]$. This means that $f'$ is continuous on except perhaps at finitely many points $x_1, \dots, x_K$ (which includes the points where $f$ is discontinuous), and that the limits $f'(x_j-)$, $f'(x_j+)$, $f'(a+)$ and $f'(b-)$ exist (for $j = 1,\dots, K$).
\end{enumerate}
\end{definition}

To sum up, $f$ is piecewise smooth if its graph only has finitely many jumps and corners where $f$ and $f'$ are discontinuous, respectively. E.g. $f(x) = \frac{1}{x}$ at $x = 0$ and sharp cusps results in infinite discontinuities for $f$ and $f'$, respectively, and are not allowed for piecewise smooth functions.
\\ \\
For a $2\pi$-periodic and integrable function, the $N$'th partial sum of the Fourier series is defined by:
\begin{align}\label{eq:partialsumFourierSeries}
	S_N^f(t) = \dfrac{1}{2} a_0 + \sum_{n=1}^N\left(a_n \cos(n 		t) + b_n \sin(n t) \right) = \sum_{n=-N}^N c_n \text{e}^{j n t}
\end{align}

with the coefficients $a_n$, $b_n$ and $c_n$ as in definition \ref{def:fourier_definition}.
\\ \\
Inserting $c_n$ in the partial sum using $x$ in place of the variable $t$ in definition \ref{def:fourier_definition} yields:
\begin{align*}
	S_N^f(t)
	&= \dfrac{1}{2\pi}\sum_{n=-N}^N \int_{-\pi}^\pi f(x) 			\text{e}^{-j n x} dx\, \text{e}^{j n t} \\
	&= \dfrac{1}{2\pi}\sum_{k = -N}^N \int_{-\pi}^\pi f(x) 			\text{e}^{j k (x-t)} dx, \quad \quad k = -n, \\
	&= \dfrac{1}{2\pi} \sum_{n = -N}^N \int_{-\pi - t}^{\pi - 		t} f(t + \tau ) \text{e}^{j n \tau} d\tau, \quad \quad \tau 	= x-t.
\end{align*}

By lemma \ref{lemma:2pi-periodic_function} the above equation can be expressed as follows
\begin{align} \label{eq:dirichlet}
	S_N^f (t) 
	&= \dfrac{1}{2\pi} \sum_{n=-N}^N \int_{-\pi}^\pi f(t + 			\tau) \text{e}^{j n \tau} d\tau \nonumber \\
	&= \int_{-\pi}^\pi f(t + \tau) D_N(\tau) d\tau,
\end{align}

where $D_N(\tau) = \dfrac{1}{2\pi}\sum_{n=-N}^{N}e^{j n \tau}$ is called the $N$'th Dirichlet kernel. The following corollary is used to prove theorem \ref{theo:main_convergence} \cite{page 31, FAA}.

\begin{corollary} \label{coro:conv_Fourier_coeff}
The Fourier coefficients $a_n$, $b_n$ and $c_n$ all tend to zero as $n \to \pm \infty$.
\end{corollary}

The following theorem is the main convergence theorem in this section \cite{page 35, FAA}.

\begin{theorem} \label{theo:main_convergence}
Let $f(t)$ be $2\pi$-periodic and piecewise smooth on $\mathbb{R}$. Then the limit of the partial sum $S_N^f$ is
	\begin{align*}
		\lim_{N\to\infty} S_N^f (t) = \dfrac{1}{2}\left[f(t-) + 		f(t+)\right], \, t \in [-\pi, \pi].
	\end{align*}

If $f$ is continuous at $t$, then
	\begin{align*}
		\lim_{N\to \infty} S_N^f(t) = f(t).
	\end{align*}
\end{theorem}

\begin{proof}
The integral from $-\pi$ to $0$ and from $0$ to $\pi$ of a Dirichlet kernel both equals $\frac{1}{2}$ \cite{page 35, FAA}. Hence:
	\begin{align*}
		\dfrac{1}{2} f(\theta-) = f(\theta-) \int_{-\pi}^0 				D_N(\tau)d\tau, \quad \dfrac{1}{2}f(\theta+) = 					f(\theta+) \int_0^\pi D_N (\tau)d\tau,
	\end{align*}
	
	which by \eqref{eq:dirichlet} gives:
	\begin{align} \label{eq:S_N_proof}
		S_N^f(\theta) &- \dfrac{1}{2}\left[f(\theta-) + 				f(\theta+)\right] \nonumber \\
		&= \int_{-\pi}^0 \left[f(\theta + \tau) - f(\theta-) 			\right] D_N(\tau) d\tau + \int_0^\pi \left[f(\theta + 			\tau) - f(\theta+) \right] D_N(\tau) d\tau.
	\end{align}
	
	The $N$'th Dirichlet kernel may be written as:
	\begin{align} \label{eq:Dirichlet_proof}
		D_N(\tau) &= \dfrac{1}{2\pi}\sum_{n=-N}^{N}\text{e}^{j 			n \tau} = \dfrac{1}{2\pi} \text{e}^{-jN\tau} \sum_{n=0}			^{2N} \text{e}^{jn \tau} \nonumber \\
		&= \dfrac{1}{2\pi} \text{e}^{-jN\tau} \dfrac{e^{j(2N+1)			\tau}-1}{\text{e}^{j\tau}-1} = \dfrac{1}{2\pi} 					\dfrac{\text{e}^{j(N+1)\tau}-\text{e}^{-jN\tau}}				{\text{e}^{j\tau}-1}, \quad \tau \neq 0
	\end{align}
	
	since in general:
	\begin{align*}
		\sum_{n=0}^K r^n = \frac{r^{K+1}-1}{r-1}, \quad r \neq 			1.
	\end{align*}
	
	A function $g(\tau)$ is defined to be:
	\begin{align} \label{eq:g_tau}
		g(\tau) =
		\begin{cases}
			\dfrac{f(\theta + \tau) - f(\theta-)}{\text{e}^{j				\tau}-1} \quad \text{for } -\pi < \tau < 0 \\ \\
			\dfrac{f(\theta + \tau) - f(\theta+)}{\text{e}^{j				\tau}-1} \quad \text{for } 0 < \tau < \pi
		\end{cases}
	\end{align}	
	
	By using \eqref{eq:Dirichlet_proof} and \eqref{eq:g_tau}, 		then \eqref{eq:S_N_proof} may be written as the Fourier 		coefficients:
	\begin{align} \label{eq:5.1.1_final}
		\dfrac{1}{2\pi} \int_{-\pi}^\pi g(\tau) \left(\text{e}			^{j(N+1)\tau} - \text{e}^{-jN\tau}\right) d\tau = C_{-			(N+1)} - C_N.
	\end{align}
	
	$g$ is a well-behaved function on $[-\pi,\pi]$ except near 		$\tau = 0$ where the denominator equals 0, which suggests 		that $g$ is not piecewise continuous. However, by 				l'Hôpital's rule:
	\begin{align*}
		\lim_{\tau \to 0+} g(\tau) = \lim_{\tau \to 0+} 				\dfrac{f(\theta + \tau) - f(\theta+)}{\text{e}^{j				\tau}-1} = \lim_{\tau \to 0+} \dfrac{f'(\theta + \tau)}			{j\text{e}^{j\tau}} = \dfrac{f'(\theta+)}{j}.
	\end{align*}
	
	Likewise, $\displaystyle{\lim_{\tau \to 0-}} g(\tau) = 			\frac{f'(\theta-)}{j}$. Both of these limits are finite, 		and hence $g$ is actually piecewise continuous on $[-\pi,		\pi]$. The Fourier coefficients $C_N = \frac{1}{2\pi} 			\int_{-\pi}^\pi g(\tau)\text{e}^{-jN\tau} d\tau$ tend to 		zero as $N 	\to \pm \infty$ by corollary 						\ref{coro:conv_Fourier_coeff}. 	Therefore,
	\eqref{eq:5.1.1_final} also vanishes as $N \to \infty$, 		which shows that \eqref{eq:S_N_proof} also tend to zero as 		$N \to \infty$, which completes the proof.
\end{proof}

\martin{Mangler i dette afsnit: vi bør nok udvide afsnittet til også at dække blandt andet uniform konvergens (fra forelæsningen i AHA), men på grund af begrænsningen af sider er vi så nødt til at smide dette afsnit ned i appendix. Det er også fint, da vi ikke bruger Fourier-rækkerne direkte.}

%http://cnx.org/contents/8YnJdzjg@8/Derivation-of-Fourier-Coeffici

%Note to self foldning.