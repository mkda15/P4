\subsection{Discrete Fourier Transform}
%The discrete Fourier transform for $x_n \xleftrightarrow{\text{DFT}} X_k$ is defined by:\frede{Skal har ikke bruges et begin\{definition\} miljø?}
%\begin{align*}
%	X_k = \sum_{n=0}^{N-1} x_n W_N^{kn}
%\end{align*}
%And the inverse
%\begin{align*}
%	x_n = \dfrac{1}{N} \sum_{n=0}^{N-1}X_k W_{N}^{-kn}
%\end{align*}
%
%Where the quantity v, is an integer going from $0 \to N-1$
%\martin{Consider this. \textregistered}.\chr{Der er N samples nummerede fra 0 til og med N-1. Arealet af dette vil fremkomme ved integralet.}\frede{Hvad er v? \texttrademark}
%
%
%In numerical practice, the equivalent of a given function f(x) of the continuous independent variable x is a finite number N of data values associated with a number t, customarily taken as running from 0 to N-1.
%\\
The discrete Fourier transform (DFT), is the discrete time variant of the Fourier transform, and can be used to transform sample from the time domain, into the frequency domain.
%\\\\
Multiple parts of the DFT are analog to the continues version \cite{DFT_OX}.
\\\\
Let a function in time $f(t)$ be a continuous signal.
If the function is sampled N times it could be denoted
$f[0],f[1],\dots,f[k],\dots,f[N-1]$.
\\\\
The Fourier Transform of $f(t)$ would be as in \ref{sec:cunt_Fourier_transform}. \frede{Ref der ikke virker.}
\begin{align*}
	F(\omega) = \int_{-\infty}^\infty f(t)e^{-j\omega t} dt
\end{align*}

If you regard each sample $f[k]$ as a single impulse, with a giving area $f[k]$. Then the integrand only exist at the sample points:

\begin{align*}
	F(\omega) 
	&= \int_0^{(N-1)}T f(t) e^{-j\omega t}dt\\
	&= f[0]e^{-j0} + f[1]e^{-j\omega T} + \dots + f(N-1) e^{-j\omega(N-1)T}	
\end{align*}

or alternatively
\begin{align*}
	F(\omega) = \sum_{k=0}^{N-1}f[k]e^{-j\omega k T}
\end{align*} \cite{DFT_OX}

\chr{Går ud fra at der i Fourier transformationen står at den kan evalueres i et endeligt interval i stedet fra uendeligt til uendeligt.}

The DFT have to take into consideration that it's only feed a finite number of input data. Since this is the case, the DFT treats the data as if it were periodic. 
\martin{Consider this. \textregistered}.
\\\\
A sequence $x_n$, can be considered N-Periodic since 
\begin{align*}
	X_{n+N} 
	&= \sum_{k=0}^{N-1}x_k e^{\frac{2 \pi k (n+N}{N}}\\
	&= \sum_{k=0}^{N-1}x_k e^{\frac{2 \pi k (n}{N}} = X_n
\end{align*} \cite{FSP}

In the style the continues case of the Fourier transform, where it's possible to evaluate it over a finite interval, the DFT can be evaluated for the fundamental frequency ($\dfrac{1}{NT} Hz$ or $\dfrac{2\pi}{NT}rad/sec.$) \cite{DFT_OX} 
%in general
%\begin{align*}
%	F[n] = \sum_{k=0}^{N-1}f[k]e^{-j2\pi\frac{nk}{N}} \, (n = 0\ldots N-1)
%\end{align*}
%
%where $F[n]$ is DFT of the sequence $f[k]$.
%This can be written on matrix form

The DFT can be written on matrix form where $F[N]$ is the DFT of the sequence $f[k]$,
\begin{align} \label{eq:DFT_matrix}
	\begin{bmatrix}
		F[0]\\ F[1]\\ F[2]\\ \vdots \\ F[N-1]
	\end{bmatrix}
	=
	\begin{bmatrix}
		1 & 1 	& 1   	& \cdots & 1\\
		1 & W 	& W^2 	& \cdots & W^{N-1}\\
		1 & W^2	& W^4	& \cdots & W^{N-2}\\
		1 & W^3	& W^6	& \cdots & W^{N-3}\\
		\vdots\\
		1 & W^{N-1}	& W^{N-2}	& \cdots & W\\
	\end{bmatrix}
	\begin{bmatrix}
		f[0]\\ f[1]\\ f[2]\\ \vdots \\ f[N-1]
	\end{bmatrix}
\end{align}

where W is called the twiddle factor and is defined as \cite{DFT_OX}
\begin{align*}
	W_N = e^{-j 2 \pi\frac{1}{N}}, \, W_N^{kn} = e^{-j 2 \pi\frac{kn}{N}}.
\end{align*}

\begin{definition}[Discrete Fourier Transform]
The discrete Fourier transform of a length-$N$ sequence $x$ is 
\begin{align} \label{eq:def_DFT}
	X_k = (Fx)_k = \sum_{k=0}^{N-1} x_n W_N^{kn}, \, k\in {0, 1, \dots, N-1};
\end{align}
This is called the spectrum of $x$.\\
The inverse DFT of a length-N sequence X is
\begin{align*}
	x_n = \dfrac{1}{N}(F*X)_n = \dfrac{1}{N}\sum_{k=0}^{N-1} X_k W_N^{-kn}, \, n \in {0, 1, \dots, N-1}.
\end{align*}

The DFT and inverse DFT as a pair, can be denoted as 
\begin{align*}
	x_n \xleftrightarrow{\text{DFT}} X_k
\end{align*}
\end{definition} 
\cite{FSP}

One of the reasons the fourier transform playes an important role in mathemathic, is simply because they are based on eigensequences of a Linear shift invariant system (Discrete equivalent of time-invariant system). 
 Properties of eigensequences' leads to the following property of convolving:
There is an equivalence between multiplying Fourier transforms of sequences, and colving the sequences.
\\\\
 A fundamental property of Linear shift invariant (LSI) systems is, that they all have unit-modulus complex exponential sequences as eigensequence. \cite{FSP}
\\\\
The DFT is the Fourier transform designed for a finite length sequence.
It treats all finite-length sequences as a period of an infinite-length periodic sequence.
The circular convolution operator is the appropriate description of LSI systems on circularly extended finite-length input, as in the case of DFT.  \chr{Ikke glad for denne sætning}
%". As we haveseen in Section 3.3.3, the circular convolution operator (3.71) is the appropriate description of LSI systems operating on circularly extended finite-length inputs"

The DFT will be introduced through the use of eigensequences of the circular convolution, which will be a diagonalization of the circular convolution operator

\begin{definition}[Circular convolution]
 	The circular convolution between length/N sequences $h$ and $x$ is defined as
\begin{align*}
	(Hx)_n) = (h \circledast x)_n = \sum_{k = 0}^{N-1} x_k h_{(n-k) \text{ mod $N$}} =\sum_{k = 0}^{N-1} x_{(n-k) \text{ mod $N$}} h_k
\end{align*}
where H is called the circular convolution operator associated with h. \chr{mod er modulus (som bogen anvender, ved ikke om vi vil bruge en anden for notation (Syntes ikke selv den er så god $(n-k) \text{ mod }N = \left<k\right>_n$}.
\end{definition} \cite{FSP}

\begin{definition}[Eigenfunction]
	If $D$ is a linear operator, on a function space, then $f$ is an eigenfunction for $D$ and $\lambda$ is the associated eigenvalue, whenever $Df = \lambda f$
\end{definition}
\cite{Eigenfunctions}

A property of LSI systems is, that they as eigensequences $v_n$ have all complex exponential sequences, with modulus being unit length (1) on the form $v_n = e^{j \omega n}$ \cite{FSP}.\\ Same follows from Linear Time Invariant systems (LTI) \cite{DTSP}.
\\\\
%Egenskaver ed eigenfunctioner:
The eigenfunction property of the complex exponential function for an LSI system, can be thus be demonstrated; consider a complex sequence of radian frequency $v_n = e^{j\omega n} \text{ for } -\infty < n < \infty$.
\\\\
The corresponding output of a LTI - system with an impulse response $h[n]$ is,

\begin{align*}
y[n] 
&= \sum_{k=-\infty}^{\infty} h[k]e^{j\omega(n-k)} \nonumber \\ 
&= e^{j\omega n} \left(\sum_{k=-\infty}^{\infty} h[k]e^{-j\omega k} \right).
\end{align*}
This leads to
\begin{align}\label{eq:eigenfunction}
y[n] = H(e^{j \omega}) e^{j\omega n},
\end{align}
for
\begin{align*}
H(e^{j\omega}) = \sum_{k=-\infty}^{\infty} h[k]e^{-j\omega k} 
\end{align*}.
This follows, the properties of eigenfunctions, per definition.
Consequently this leads to $e^{j\omega n}$ being an eigenfunction of the system, with the associated eigenvalue $H(e^{j\omega})$.
\\\\
From \eqref{eq:eigenfunction} it can be noted that $H(e^{j\omega})$ will describe the change in the complex amplitude of a complex exponential input signal as a function of the frequency $\omega$. \cite{DTSP} \chr{Might like this sentence rewritten., og dette bliver gentaget i filter sektionen (ved ikke hvad sammenhængen det er brugt til der)}
%The eigenvalue $H(e^{j\omega})$ is called the frequency response of the system.
\\
Since the represented sequence is N periodic, the eigensequence should also be periodic with period N, which leads to the following:

\begin{align*}
	v_{n+N} = e^{j\omega (n+N)} = v_n \implies e^{j\omega N} = 1
\end{align*}

and $\omega = \dfrac{2 \pi k}{N}$ for $k \in \mathbb{Z}$

From this the previously mentioned twiddle factor can be seen.

\begin{align*}
	v_n = e^{j(\frac{2\pi}{N}) kn} = W_N^{-kn}.
\end{align*}\cite{FSP}

The twiddle factor can be shown to be an eigensequence for the circular convolution operator.

\begin{align*}
	(h\circledast v)_n 
	= \sum_{k=0}^{N-1} v_{(n-1)\text{ mod }N}h_i 
	= \sum_{k=0}^{N-1} W_N^{-k((n-i) \text{ mod } N))}h_i
	&= \sum_{k=0}^{N-1} W_N^{-k(n-i)}h_i\\
	&= \sum_{k=0}^{N-1} h_i W_n^{ki} \, W_N^{-kn}
	= \lambda_k v_n
\end{align*}

This shows that a circular convolution operator $H$'s has an eigensequence that is the twidddle factor.
\\\\ \chr{Næste del er ikke en nødvendighed, men viser blot matrix formen for DFT.}
$W_k$ in \eqref{eq:def_DFT} is a vector product between a vector of twiddle factors and vector $x \in \mathbb{C}^n$
\begin{align*}
	X_k =
	\begin{bmatrix}
		1 \\	W_N^k \\	\vdots \\ W_N^(N-1)k
	\end{bmatrix}
	x
\end{align*}

Producing the matrix for $X$ with $k \in \{0, 1, \dots, N-1\}$ yields the matrix form of the DFT as \eqref{eq:DFT_matrix}.
