This chapter considers the choices made during the processes of the project and what could have been done differently.
\\ \\
The sampling frequency used in this project is $44.1$ kHz, which is the standard sampling frequency for audio signals.
This choice has been made to make sure that every frequency within the audible frequency range is able to be recreated per the sampling theorem \ref{sampling_theorem}.
The tone with the highest fundamental frequency of an acoustic guitar as the one used during the recordings in this project is $C_6$ with a fundamental frequency of $1046.5$ Hz.
Since this is well within the range of the frequencies that can be recreated with a sampling frequency of 44.1 kHz it should be considered using a lower sampling frequency or downsampling by a number $n$, which means that only the $n$'th data points are kept. Either way, this would lead to fewer data points and would enable faster data processing and eventually a faster real-time implementation.
A reason for choosing the higher sampling frequency is that every frequency (including the harmonics of the tone being played) in the audible spectrum is of interest and that the calculations are not being done in real-time.
Furthermore, a lower sampling frequency will make the signal more susceptible to aliasing.
\\ \\
A FIR filter was chosen since it is easy to implement and the run-time of the algorithm is not a focus in this particular project. Using a FIR filter then ensures a fast implementation and a generalised linear phase. The linear phase can be a desired characteristic of filters to prevent phase distortion but the higher order and more calculations of a FIR filter makes the computer's run-time longer and hence a real-time implementation slower. For the purpose of this project a FIR filter is sufficient. The window function in the FIR filter was chosen to be the Kaiser window for its easy optimisation of filter order given a set of specifications. If computational complexity is a concern, for example for an algorithm running in real-time, an IIR filter is a better option as it requires fewer calculations.
\\ \\
The window function in the STFT was chosen to be the Blackman window because of the conclusion of Fredrik J. Harris' article and the visual comparison of spectrograms generated with different types of windows. For the Kaiser window to be chosen instead of Blackman a wider theoretical background was needed according to decide the optimal $\beta$ value. A visual comparison could have been made to decide $\beta$ but this was not found to be a valid method. Overlap of the windows was set to a conventional 50\%. A reason to examine the overlap further could be to uncover the possible relationship between this and the shape of the chosen window. With the goal of obtaining simultaneous good temporal and spectral resolution the length of the window was decided by the lower bound specified by the peak detection algorithm and by the visual evaluation of the spectrograms.
\\\\
To test the algorithm and the units in this a series of recordings of a guitar playing were made. In these recordings different choices were made to ensure diversity and a wide range of frequencies. Recordings of the guitar tones $E_2$ and $E_4$ gave insight into how lower and higher tones behave, and a recording of a scale gave insight into some of the different tones between them. The recordings were made with knowledge about the frequency contents but not the tempo which allowed evaluation of the spectral resolution of the spectrograms but not of the temporal resolution. Knowledge of the tempo would have allowed a more complete evaluation of the peak detection algorithm by verifying the position in time of the peaks detected by the algorithm. As shown, the algorithm is limited to detect single tones and a different algorithm designed for detecting chords consisting of different frequencies would be needed.
\\\\
The purpose of the peak detection algorithm is an approximation of the creation of a note sheet. However, the final symbol management is left out as described in chapter \ref{ch3} due to the inherent difficulty in converting detected frequencies within an error margin into an accurate note sheet.