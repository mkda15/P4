The filter design process is documented in this section including test and optimization. As stated in section \ref{valg af filter} a FIR filter of type I, design by the Kaiser window is wanted.
\subsection{Specifications} 
By the aim of letting a limited frequency band though the filter - as found in the frequency analysis chapter \ref{?} - the filter is to be designed as a bandpass filter. It is essential to note that the filter to be design in this project is not an adaptive filter. Meaning that the filter specification will be chosen on behalf of a specific signal with known noise.\\
This filter are determined to remove noise in the form of background speak from a low E note.     
\subsection{Implementation}
\begin{algorithm}[H]
\caption{Compute type I FIR filter}
\label{array-sum}
\begin{algorithmic}[1] 
\State $N = $ \Comment {Lenght of filter} 
\State $M = N-1$ \Comment {Order of filter}
\State $\omega_1 = $ \Comment {Cutoff frequency $1$}
\State $\omega_2 = $ \Comment {Cutoff frequency $2$}
\Procedure{Compute ideal impulse response}{$h_d$}
    \For {each integer $i$ in $h_d$}
        \If {$i == \frac{M}{2}$}
        		\State $h_d[i] = 2(\omega_2 - \omega_1)$
        	\Else 
        		\State  $h_d[i] = \frac{1}{ (\pi (i - \frac{M}{2}))}(\sin(\omega_2 2 \pi (i - \frac{M}{2})) - (\sin(\omega_1 2 \pi (i - \frac{M}{2}))))$ 
        	\EndIf 
	\EndFor
	\State Return $h_d$
\EndProcedure
\\
\Procedure{Compute kaiser window}{$w$}
	\For {each integer $i$ in length of $N$}
		\For {each integer $j$ in length of $M$}
			\State $ sum_n = + \ (\frac{1}{j!})^2 \left( \left( \frac{\beta}{2} \sqrt{\left(1 - \left( \frac{2*i}{N-1}\right) - 1\right)^2}\right)^{2j}\right)$
			\State $ sum_d = + \ (\frac{1}{j!})^2 \left( \frac{\beta}{2}\right)^{j2}$
		\EndFor
		\State $w[i]=\frac{sum_n}{sum_d}$
	\EndFor
	\State Return $w$
\EndProcedure 
\\
\Procedure{Compute frequency response}{$H$}
	\State $h = h_d \cdot w$ \Comment{Realizable impulse response}
	\State $H = fft(h)$ \Comment {Fourier transformation of impulse response}
	\State Return $H$
\EndProcedure

\end{algorithmic}
\end{algorithm}